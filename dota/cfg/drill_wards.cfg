// Drill: Wards by Anita (Octavia, u/iheartdisraptor)
// This script belongs to the community. Feel free to extend and rerelease this script.

// Directions:

// Sets up your hero for warding practice.
// Gives you 50 of each type of ward and mobility. It also sets the range display (circle around hero)
// to the reveal range of sentries. Use the teleport cheat to place your hero on top of your sentries
// to see how far they reveal.
// 6.79

// - : Toggle range display (circle around hero)
// l : Toggle near/far camera distance
// [ : Destroy all wards that have been placed
// ] : Spawn neutrals
// \ : Spawn a Nature's Prophet to test enemy vision
// n : Toggle all vision
// . : Display spawn boxes
// / : Teleport hero to mouse position
// i : Display list of controls
// F4 : Display spawn boxes
// F6 : Toggle UI
// mouse4 : Teleport hero to mouse position

// Controls //

// Rebind these as necessary (e.g. if they conflict with your settings)

// Set different size circles to test exact ranges
// - Observer sight (1600)
// - Observer sight under Darkness (1200)
// - Sentry temporary sight (150)
// - Sentry reveal (800)
bind - drill_toggle_range

// Refresh selected unit
bind = drill_refresh

// Toggle normal and far camera distance
bind l drill_toggle_camera_distance

// Destroy all wards on the map
bind [ drill_kill_wards

// Spawn neutrals if the spawnbox is clear
bind ] drill_spawn_neutrals

// Create an enemy Nature's Prophet with wards so you can test enemy vision
bind \ drill_create_furion

// Toggle all vision
bind n drill_toggle_vision

// Display spawn boxes
exec "spawn_boxes.cfg"
bind . spawn_boxes

// Teleport hero to the current mouse position with keyboard or mouse buttons
bind / drill_teleport
bind mouse4 drill_teleport // will not override game controls

// Display a list of commands
bind i drill_instructions

// Toggle display of the HUD (various modes)
bind F6 toggle_ui

// Aliases for controls //

// Fully restore the currently selected unit
alias drill_refresh "echo Using cheat -refresh; dota_hero_refresh; dota_dev hero_refresh"

// Aliases for changing range display (circle around hero)
alias drill_toggle_range drill_range_observer_sight
alias drill_range_observer_sight "say_team Setting range to 1600 (observer sight); dota_range_display 1600; alias drill_toggle_range drill_range_observer_sight_ns"
alias drill_range_observer_sight_ns "say_team Setting range to 1200 (observer sight under Darkness); dota_range_display 1200; alias drill_toggle_range drill_range_sentry_sight"
alias drill_range_sentry_sight "say_team Setting range to 150 (sentry temporary sight); dota_range_display 150; alias drill_toggle_range drill_range_sentry_reveal"
alias drill_range_sentry_reveal "say_team Setting range to 800 (sentry reveal); dota_range_display 800; alias drill_toggle_range drill_range_observer_sight"

// Spawn neutrals if their boxes are clear and say as much
alias drill_spawn_neutrals "say_team Spawning neutrals; dota_spawn_neutrals"

// Toggle the distance of the camera between normal and far
alias drill_toggle_camera_distance drill_camera_far
alias drill_camera_far "dota_camera_distance 1534; drill_hero_focus; alias drill_toggle_camera_distance drill_camera_normal"
alias drill_camera_normal "dota_camera_distance 1134; drill_hero_focus; alias drill_toggle_camera_distance drill_camera_far"
alias drill_hero_focus "+dota_camera_follow; -dota_camera_follow; +dota_camera_follow; -dota_camera_follow"

// Kill all wards on the map and say as much
alias drill_kill_wards "say_team Destroying all wards; dota_killwards; dota_dev killwards"

// Teleport hero to current mouse position
alias drill_teleport "sv_cheats 1; dota_dev hero_teleport; dota_stop; dota_hold"

// Toggle all vision
alias drill_toggle_vision drill_normal_vision
alias drill_all_vision "dota_all_vision 1; alias drill_toggle_vision drill_normal_vision"
alias drill_normal_vision "dota_all_vision 0; alias drill_toggle_vision drill_all_vision"
drill_all_vision

// Toggle the HUD
alias toggle_ui ui_noreplay

// Disable the replay UI. Only useful in a replay or DotaTV.
alias ui_noreplay "echo Disabling replay UI; developer 0; dota_sf_hud_stats_dropdown 0; dota_sf_hud_force_spec -1; alias toggle_ui ui_some"

// Disable all of the UI except the minimap and the hero portrait.
alias ui_some "echo Disabling some UI; sv_cheats 1; dota_sf_hud_stats_dropdown 0; dota_sf_hud_force_spec -1; dota_sf_hud_actionpanel 0; dota_sf_hud_channelbar 0; dota_sf_hud_chat 1; dota_sf_hud_inventory 0; dota_sf_hud_top 0; dota_hud_healthbars 0; dota_no_minimap 0; cl_drawhud 1; dota_render_crop_height 0; dota_render_y_inset 0; developer 0; net_graph 0; alias toggle_ui ui_none"

// Disable all of the UI
alias ui_none "echo Disabling all UI; sv_cheats 1; dota_sf_hud_stats_dropdown 0; dota_sf_hud_force_spec -1; dota_sf_hud_actionpanel 0; dota_sf_hud_channelbar 0; dota_sf_hud_chat 0; dota_sf_hud_inventory 0; dota_sf_hud_top 0; dota_hud_healthbars 0; dota_no_minimap 1; cl_drawhud 0; dota_render_crop_height 0; dota_render_y_inset 0; developer 0; net_graph 0; alias toggle_ui ui_full"

// Reenable all of the UI. For 1080p, render_crop_height should be 166 else restoring the UI will
// not work quite right (you can change this below). For 1200p, render_crop_height should be 148.
alias ui_full "echo Enabling UI; sv_cheats 1; dota_sf_hud_stats_dropdown -1; dota_sf_hud_force_spec 0; dota_sf_hud_actionpanel 1; dota_sf_hud_channelbar 1; dota_sf_hud_chat 1; dota_sf_hud_inventory 1; dota_sf_hud_top 1; dota_hud_healthbars 3; dota_no_minimap 0; cl_drawhud 1; dota_render_crop_height 148; dota_render_y_inset 31; alias toggle_ui ui_noreplay"

// Display instructions
alias drill_instructions "echo Controls:; echo - : Toggle range display (circle around hero); echo l : Toggle near/far camera distance; echo [ : Destroy all wards that have been placed; echo ] : Spawn neutrals; echo \ : Spawn a Nature's Prophet to test enemy vision; echo n : Toggle all vision; echo / : Teleport hero to mouse position; echo i : Display list of controls; echo F6 : Toggle UI; echo mouse4 : Teleport hero to mouse position"

// Aliases for wards //

// Give 10 of each ward type to the player
alias "drill_give_wards" "dota_create_item item_ward_sentry; dota_create_item item_ward_observer; dota_create_item item_ward_sentry; dota_create_item item_ward_observer; dota_create_item item_ward_sentry; dota_create_item item_ward_observer; dota_create_item item_ward_sentry; dota_create_item item_ward_observer; dota_create_item item_ward_sentry; dota_create_item item_ward_observer"

// Give 80 of each ward type to the player
alias "drill_give_many_wards" "drill_give_wards; drill_give_wards; drill_give_wards; drill_give_wards; drill_give_wards; drill_give_wards; drill_give_wards; drill_give_wards"

// Give 10 of each ward type to bots
alias "drill_give_bots_wards" "dota_bot_give_item item_ward_sentry; dota_bot_give_item item_ward_observer; dota_bot_give_item item_ward_sentry; dota_bot_give_item item_ward_observer; dota_bot_give_item item_ward_sentry; dota_bot_give_item item_ward_observer; dota_bot_give_item item_ward_sentry; dota_bot_give_item item_ward_observer; dota_bot_give_item item_ward_sentry; dota_bot_give_item item_ward_observer"

// Give 80 of each ward type to bots
alias "drill_give_bots_many_wards" "drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards; drill_give_bots_wards"

// Aliases for heroes //

// Upgrade the hero for warding
alias drill_upgrade_hero "dota_hero_level 25; dota_dev player_givegold 99999; dota_create_item item_travel_boots; dota_create_item item_quelling_blade; drill_give_many_wards; dota_create_item item_rapier; dota_create_item item_assault"

// Create an enemy Nature's Prophet for warding as enemy
alias "drill_create_furion" "dota_create_unit furion enemy; dota_bot_give_level 25; dota_bot_give_item item_travel_boots; dota_bot_give_item item_cyclone; drill_give_bots_many_wards; dota_bot_give_item item_sange_and_yasha; dota_bot_give_item item_ancient_janggo"

// Setup //

// The setup comes at the end since we need some of the aliases defined above.

// Enable developer output
developer 1

// Allow the console to display at least enough lines for the instructions
contimes 20

// How long to display console lines
con_notifytime 60

// Enable cheats. Requires a local lobby.
sv_cheats 1

// Display a message so we know something happened
say_team "Warding drill initiated"

// Disable creep spawning since they only push towers and this drill has nothing to do with them.
dota_creeps_no_spawning_enable

// Enable wtf mode to help clear camps
dota_ability_debug_enable

// Upgrade hero to max level and give items for warding
drill_upgrade_hero

// Set circle around player to range of sentry reveal
drill_range_sentry_reveal

// Display instructions to console
drill_instructions
