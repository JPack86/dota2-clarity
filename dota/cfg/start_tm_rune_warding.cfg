// Training Mission: Rune Warding Console Settings by Anita (Octavia, u/iheartdisraptor)
// This script belongs to the community. Feel free to extend and rerelease this script.

// Directions:
// 1. Enable the Dota 2 console:
//    http://www.hattongames.com/2012/03/how-to-enable-the-console-in-dota-2
// 2. Download and save this script as
//    Steam/SteamApps/common/dota 2 beta/dota/cfg/start_tm_rune_warding.cfg.
// 3. Download and save tm_rune_warding.txt as
//    Steam/SteamApps/common/dota 2 beta/dota/scripts/tutorial/tm_rune_warding.txt.
// 4. In autoexec.cfg add this line:
//    alias start_tm_rune_warding "exec start_tm_rune_warding_console.cfg".
// 5. Start Dota 2, open the console (~ by default), and enter
//    "start_tm_rune_warding".

// Changelog:
// 1.0-6.79, 13.11.19
// - Initial version

// Bindings ////////////////////////////////////////////////////////////////////

// Controls: (rebind these as necessary, e.g. if they conflict with options)
// ' : Display this list
// - : Destroy ally wards
// = : Spawn neutrals if their spawn boxes are clear
// [ : Switch between normal and far camera distance
// ] : Display spawn boxes for a time
// \ : Teleport hero to mouse position
// mouse4 : above
// < : Set different size circles around hero to test ranges
// > : Toggle all vision

// Display a list of commands
bind ' instructions

// Destroy all wards on the map
bind - kill_wards

// Spawn neutrals if the spawnbox is clear
bind = spawn_neutrals

// Toggle normal and far camera distance
bind [ toggle_camera_distance

// Display spawn boxes
bind ] spawn_boxes

// Set different size circles to test exact ranges
// - Sentry reveal (800)
// - Observer sight (1600)
// - Observer sight under Darkness (1200)
bind , toggle_range

// Toggle all vision
bind . toggle_vision

// Teleport hero to the current mouse position with keyboard or mouse buttons
bind \ teleport
bind mouse4 teleport // will not override game controls

// Set different size circles to test exact ranges
// - Sentry reveal (800)
// - Observer sight (1600)
// - Observer sight under Darkness (1200)
bind , toggle_range

// Aliases /////////////////////////////////////////////////////////////////////

// Enables sv_cheats temporarily. This is used to allow using cheats in the
// middle of a tutorial. sv_cheats won't work if dota_tutorial_game is 1, but
// tutorial scripts won't work if dota_tutorial_game is 0.
alias tutorial_cheats "dota_tutorial_game 0; sv_cheats 1; dota_tutorial_game 1"

// Aliases for controls //

alias instructions "echo .; echo .; echo .; echo .; echo Controls:echo ' : Display this list; echo - : Destroy ally wards; echo = : Spawn neutrals if their spawn boxes are clear; echo [ : Switch between normal and far camera distance; echo ] : Display spawn boxes for a time; echo \ : Teleport hero to mouse position; echo mouse4 : above; echo < : Set different size circles around hero to test ranges; echo > : Toggle all vision"

alias spawn_neutrals "say_team Spawning neutral camps; tutorial_cheats; dota_spawn_neutrals"

// Kill all wards on the map and say as much
alias kill_wards "tutorial_cheats; say_team Destroying all wards; dota_killwards; dota_dev killwards"

// Toggle the distance of the camera between normal and far
alias toggle_camera_distance camera_far
alias camera_far "say_team A bird's eye view.; tutorial_cheats; dota_camera_distance 1534; hero_focus; alias toggle_camera_distance camera_normal"
alias camera_normal "say_team A down-to-earth view.; tutorial_cheats; dota_camera_distance 1134; hero_focus; alias toggle_camera_distance camera_far"
alias hero_focus "+dota_camera_follow; -dota_camera_follow; +dota_camera_follow; -dota_camera_follow"

// Aliases for changing range display (circle around hero)
alias toggle_range range_observer_sight
alias range_observer_sight "tutorial_cheats; say_team Setting range to 1600 (observer sight); dota_range_display 1600; alias toggle_range range_observer_sight_ns"
alias range_observer_sight_ns "tutorial_cheats; say_team Setting range to 1200 (observer sight under Darkness); dota_range_display 1200; alias toggle_range range_sentry_reveal"
alias range_sentry_reveal "tutorial_cheats; say_team Setting range to 800 (sentry reveal); dota_range_display 800; alias toggle_range range_observer_sight"
dota_range_display 800

// Toggle all vision
alias toggle_vision all_vision
alias all_vision "say_team All vision; tutorial_cheats; dota_all_vision 1; alias toggle_vision normal_vision"
alias normal_vision "say_team Normal vision; tutorial_cheats; dota_all_vision 0; alias toggle_vision all_vision"

// Teleport hero to current mouse position
alias teleport "say_team Teleported.; tutorial_cheats; dota_dev hero_teleport; dota_stop; dota_hold"

// Spawn box display //

// Radiant ancients
alias spawn_radiant_ancients "box -3520.0 -256.0 522.0 -2560.0 768.0 522.0; box -3520.0 768.0 266.0 -2560.0 -256.0 266.0; box -3520.0 -256.0 522.0 -3520.0 768.0 266.0; box -2560.0 768.0 522.0 -2560.0 -256.0 266.0; box -2560.0 -256.0 522.0 -3520.0 -256.0 266.0; box -3520.0 768.0 522.0 -2560.0 768.0 266.0"

// Radiant medium camp near mid T1
alias spawn_radiant_medium1 "box -1024.0 -2368.0 394.0 64.0 -2368.0 138.0; box 64.0 -3456.0 394.0 -1024.0 -3456.0 138.0; box -1024.0 -3456.0 394.0 64.0 -2368.0 394.0; box -1024.0 -2368.0 138.0 64.0 -3456.0 138.0; box 64.0 -2368.0 394.0 64.0 -3456.0 138.0; box -1024.0 -3456.0 394.0 -1024.0 -2368.0 138.0"

// Radiant hard camp near rune
alias spawn_radiant_hard1 "box 1088.0 -4544.0 522.0 2304.0 -3200.0 522.0; box 1088.0 -3200.0 266.0 2304.0 -4544.0 266.0; box 2304.0 -3200.0 522.0 2304.0 -4544.0 266.0; box 1088.0 -4544.0 522.0 1088.0 -3200.0 266.0; box 1088.0 -3200.0 522.0 2304.0 -3200.0 266.0; box 2304.0 -4544.0 522.0 1088.0 -4544.0 266.0"

// Radiant medium camp near rune
alias spawn_radiant_medium2 "box 2688.0 -2944.0 266.0 3776.0 -4096.0 266.0; box 2688.0 -4096.0 522.0 3776.0 -2944.0 522.0; box 3776.0 -4096.0 522.0 2688.0 -4096.0 266.0; box 2688.0 -2944.0 522.0 3776.0 -2944.0 266.0; box 3776.0 -2944.0 522.0 3776.0 -4096.0 266.0; box 2688.0 -4096.0 522.0 2688.0 -2944.0 266.0"

// Radiant easy pull camp
alias spawn_radiant_easy "box 3776.0 -5312.0 522.0 2240.0 -5312.0 266.0; box 2240.0 -4288.0 522.0 3776.0 -4288.0 266.0; box 2240.0 -5312.0 522.0 2240.0 -4288.0 266.0; box 3776.0 -4288.0 522.0 3776.0 -5312.0 266.0; box 2240.0 -4288.0 266.0 3776.0 -5312.0 266.0; box 2240.0 -5312.0 522.0 3776.0 -4288.0 522.0"

// Radiant hard camp near mid T2 (1)
alias spawn_radiant_hard2_1 "box -1728.0 -4224.0 586.0 -1344.0 -3520.0 586.0; box -1728.0 -3520.0 138.0 -1344.0 -4224.0 138.0; box -1728.0 -3520.0 586.0 -1344.0 -3520.0 138.0; box -1344.0 -4224.0 586.0 -1728.0 -4224.0 138.0; box -1728.0 -4224.0 586.0 -1728.0 -3520.0 138.0; box -1344.0 -3520.0 586.0 -1344.0 -4224.0 138.0"

// Radiant hard camp near mid T2 (2)
alias spawn_radiant_hard2_2 "box -1344.0 -3520.0 586.0 -704.0 -3520.0 138.0; box -704.0 -4480.0 586.0 -1344.0 -4480.0 138.0; box -704.0 -3520.0 586.0 -704.0 -4480.0 138.0; box -1344.0 -4480.0 586.0 -1344.0 -3520.0 138.0; box -1344.0 -4480.0 586.0 -704.0 -3520.0 586.0; box -1344.0 -3520.0 138.0 -704.0 -4480.0 138.0"

// Dire ancients
alias spawn_dire_ancients "box 3904.0 -1536.0 138.0 4928.0 -2560.0 138.0; box 3904.0 -2560.0 394.0 4928.0 -1536.0 394.0; box 4928.0 -2560.0 394.0 3904.0 -2560.0 138.0; box 3904.0 -1536.0 394.0 4928.0 -1536.0 138.0; box 3904.0 -2560.0 394.0 3904.0 -1536.0 138.0; box 4928.0 -1536.0 394.0 4928.0 -2560.0 138.0"

// Dire hard camp near mid T2
alias spawn_dire_hard1 "box 448.0 2816.0 522.0 1664.0 3776.0 522.0; box 448.0 3776.0 266.0 1664.0 2816.0 266.0; box 448.0 3776.0 522.0 1664.0 3776.0 266.0; box 1664.0 2816.0 522.0 448.0 2816.0 266.0; box 1664.0 3776.0 522.0 1664.0 2816.0 266.0; box 448.0 2816.0 522.0 448.0 3776.0 266.0"

// Dire medium camp near top T2
alias spawn_dire_medium1 "box 0.0 4096.0 522.0 0.0 3200.0 266.0; box -832.0 3200.0 522.0 -832.0 4096.0 266.0; box -832.0 3200.0 522.0 0.0 4096.0 522.0; box -832.0 4096.0 266.0 0.0 3200.0 266.0; box -832.0 4096.0 522.0 0.0 4096.0 266.0; box 0.0 3200.0 522.0 -832.0 3200.0 266.0"

// Dire medium camp near rune
alias spawn_dire_medium2 "box -1920.0 3136.0 138.0 -960.0 2304.0 138.0; box -1920.0 2304.0 394.0 -960.0 3136.0 394.0; box -1920.0 3136.0 394.0 -960.0 3136.0 138.0; box -960.0 2304.0 394.0 -1920.0 2304.0 138.0; box -960.0 3136.0 394.0 -960.0 2304.0 138.0; box -1920.0 2304.0 394.0 -1920.0 3136.0 138.0"

// Dire hard pull camp
alias spawn_dire_hard2 "box -5056.0 3264.0 522.0 -5056.0 4352.0 266.0; box -3712.0 4352.0 522.0 -3712.0 3264.0 266.0; box -3712.0 3264.0 522.0 -5056.0 3264.0 266.0; box -5056.0 4352.0 522.0 -3712.0 4352.0 266.0; box -5056.0 4352.0 266.0 -3712.0 3264.0 266.0; box -5056.0 3264.0 522.0 -3712.0 4352.0 522.0"

// Dire easy pull camp
alias spawn_dire_easy "box -3456.0 3968.0 522.0 -3456.0 4928.0 266.0; box -2688.0 4928.0 522.0 -2688.0 3968.0 266.0; box -2688.0 3968.0 522.0 -3456.0 3968.0 266.0; box -3456.0 4928.0 522.0 -2688.0 4928.0 266.0; box -3456.0 4928.0 266.0 -2688.0 3968.0 266.0; box -3456.0 3968.0 522.0 -2688.0 4928.0 522.0"

// Draw all spawn boxes
alias spawn_boxes "tutorial_cheats; say_team Displaying spawn boxes.; spawn_radiant_ancients; spawn_radiant_medium1; spawn_radiant_hard1; spawn_radiant_medium2; spawn_radiant_easy; spawn_radiant_hard2_1; spawn_radiant_hard2_2; spawn_dire_ancients; spawn_dire_hard1; spawn_dire_medium1; spawn_dire_medium2; spawn_dire_hard2; spawn_dire_easy"

// Start the training mission //

// Hide console output
developer 0

// Allow the console to display at least enough lines for the instructions
//contimes 16

// How long in seconds display console lines
//con_notifytime 120

// Show the loading screen
toggleconsole

// Start the tutorial
dota_tutorial_start tm_rune_warding

// Debug
bind p "tutorial_cheats; dota_camera_distance 150; dota_camera_getpos"
bind l "tutorial_cheats; tutorial_start_lesson bottom1_exp"
bind k "tutorial_cheats; tutorial_start_lesson top1_exp"
